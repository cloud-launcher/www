@initial-bg-color: #666;

@flip-duration: 1s;
@flip-curve: cubic-bezier(0.7, 0, 0, 1);

@arm-offset: 90deg;

@swoosh-duration: 0.2s;
@swoosh-delay: @flip-duration - 0.15s;

@launch-duration: 2s;
@launch-delay: @flip-duration - 1s;
@launch-curve: @flip-curve;

@receed-duration: 1s;
@receed-delay: @flip-duration + @launch-duration - 0.25s;
@receed-curve: @flip-curve;


@keyframes fade-to-black {
  0% {
    background-color: @initial-bg-color;
  }
  100% {
    background-color: #000;
  }
}

@keyframes grow {
  0% {
    opacity: 0;
    transform: scale(0);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes receed {
  0% {
    width: 100%;
    height: 100%;

    font-size: 10vw;
    margin-left: 0vw;
  }
  100% {
    width: 18vw;
    height: 2vw;

    font-size: 1.5vw;
    // margin-left: -6.5vw;
  }
}

@keyframes arm-animation {
  0% {
    transform: translateZ(0px) rotateX(0deg);
  }
  50% {
    transform: translateZ(0px) rotateX(-30deg);
  }

  95% {
    transform: translateZ(0px) rotateX(-220deg);
  }
  100% {
    transform: translateZ(0px) rotateX(-45deg);
  }
}

@keyframes teaser-zoom {
  0% {
    perspective: 1px;
  }
  90% {
    perspective: 500px;
  }
  100% {
    perspective: 1000px;
  }
}

@keyframes flip {
  0% {
    transform: translateZ(-500px) translateX(-80px) translateY(100%) rotateZ(0deg) rotateY(-180deg) rotateX(0deg);
  }
  90% {
    transform: translateZ(-250px) translateX(-20px) translateY(-200%) rotateZ(-15deg) rotateY(10deg)  rotateX(-720deg);
  }
  100% {
    transform: translateZ(0px)   translateX(20%)   translateY(15%)    rotateZ(-1070deg) rotateY(340deg)  rotateX(-1100deg);
  }
}

@keyframes swoosh {
  0% {
    transform: scale(0) translateX(-200%) translateY(100%) translateZ(-500px);
  }
  100% {
    transform: scale(0.5) translateX(-75%) translateY(50%) translateZ(250px);
  }
}

@keyframes launch {
  0% {
    transform: scale(0) translateX(-300%) translateY(100%) translateZ(-500px) rotateZ(0deg) rotateX(0deg);
  }
  5% {
    transform: scale(0.1) translateX(-250%) translateY(0%) translateZ(-250px) rotateZ(360deg) rotateX(0deg);
  }
  95% {
    transform: scale(1) translateX(-50%) translateY(0%) translateZ(150px) rotateZ(1080deg) rotateX(0deg);
  }
  100% {
    transform: scale(1) translateX(25%) translateY(0%) translateZ(-750px) rotateZ(1080deg) rotateX(-720deg);
  }
}

body {
  animation: fade-to-black @receed-duration @receed-delay @receed-curve;
  animation-fill-mode: both;
}

.grow {
  animation: grow @receed-duration @receed-delay @receed-curve;
  animation-fill-mode: backwards;
}

teaser {
  position: fixed;
  left: 0;
  top: 0;

  width: 18vw;
  height: 2vw;

  max-width: 100%;
  max-height: 100%;

  font-size: 1.5vw;
  margin-left: -4vw;

  font-family: monospace;

  text-shadow: 0px 0px 2px #666;

  transform-style: preserve-3d;

  display: flex;

  align-items: center;

  animation: receed @receed-duration @receed-delay @receed-curve;
  animation-fill-mode: backwards;

  z-index: 1;

  * {
    display: inline-block;
    transform-style: preserve-3d;
  }

  .container {
    display: flex;
    justify-content: center;

    perspective: 1px;

    animation: teaser-zoom @flip-duration @flip-curve;
    animation-fill-mode: both;

    // transform: translateX(-30%);

    flex: 1 1 auto;

    .flip {
      animation: flip @flip-duration @flip-curve;
      animation-fill-mode: both;
    }

    .launcher {
      transform: rotateY(@arm-offset);

      .arm {
        transform-origin: 50% 75%;
        animation: arm-animation @flip-duration @flip-curve;
        animation-fill-mode: both;

        .right-arm {
          transform: translateX(1.5em) translateY(0.5em) rotateY(-90deg);
          transform-origin: 0% 100%;
        }

        .left-arm {
          transform: translateX(-1em) translateY(0.5em) translateZ(1em) rotateY(-90deg);
          transform-origin: 0% 100%;
        }
      }

      .body {
        transform: rotateY(-@arm-offset);
      }
    }

    .swoosh {
      animation: swoosh @swoosh-duration @swoosh-delay linear;
      animation-fill-mode: both;
    }

    .cloud {
      animation: launch @launch-duration @launch-delay @launch-curve;
      animation-fill-mode: both;
    }
  }
}